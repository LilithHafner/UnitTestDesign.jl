<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Guide · UnitTestDesign.jl</title><link rel="canonical" href="https://adolgert.github.io/UnitTestDesign.jl/man/guide/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">UnitTestDesign.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li class="is-active"><a class="tocitem" href>Guide</a><ul class="internal"><li><a class="tocitem" href="#Kinds-of-test-generation"><span>Kinds of test generation</span></a></li><li><a class="tocitem" href="#Same-interface-for-all-test-generators"><span>Same interface for all test generators</span></a></li><li><a class="tocitem" href="#Exclude-forbidden-combinations-of-parameters"><span>Exclude forbidden combinations of parameters</span></a></li><li><a class="tocitem" href="#Seed-test-cases"><span>Seed test cases</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../methods/">Testing Methods</a></li><li><a class="tocitem" href="../engines/">Engines</a></li><li><a class="tocitem" href="../ipog/">IPOG</a></li></ul></li><li><a class="tocitem" href="../../reference/">Reference</a></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Guide</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/adolgert/UnitTestDesign.jl/blob/master/docs/src/man/guide.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Guide"><a class="docs-heading-anchor" href="#Guide">Guide</a><a id="Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Guide" title="Permalink"></a></h1><h2 id="Kinds-of-test-generation"><a class="docs-heading-anchor" href="#Kinds-of-test-generation">Kinds of test generation</a><a id="Kinds-of-test-generation-1"></a><a class="docs-heading-anchor-permalink" href="#Kinds-of-test-generation" title="Permalink"></a></h2><ul><li><p>Combinatorial coverage - Makes the shortest test sets to cover all options.</p><ul><li><a href="../../reference/#UnitTestDesign.all_values-Tuple"><code>all_values</code></a>: Every value is used at least once.</li><li><a href="../../reference/#UnitTestDesign.all_pairs-Tuple"><code>all_pairs</code></a>: Every pair of values is used at least once.</li><li><a href="../../reference/#UnitTestDesign.all_triples-Tuple"><code>all_triples</code></a>: Every triple of values is used at least once.</li><li><a href="../../reference/#UnitTestDesign.all_tuples-Tuple"><code>all_tuples</code></a>: Generate test sets with arbitrary coverage level.</li></ul></li><li><p>Excursions from a single parameter set</p><ul><li><a href="../../reference/#UnitTestDesign.values_excursion-Tuple"><code>values_excursion</code></a>: Tries each parameter, one at a time.</li><li><a href="../../reference/#UnitTestDesign.pairs_excursion-Tuple"><code>pairs_excursion</code></a>: Tries pairs of parameters, two at a time.</li><li><a href="../../reference/#UnitTestDesign.triples_excursion-Tuple"><code>triples_excursion</code></a>: Tries three parameters away from the original set.</li><li><a href="../../reference/#UnitTestDesign.all_tuples-Tuple"><code>all_tuples</code></a>: This function works for general excursions, too.</li></ul></li><li><p>Full factorial - Every combinations of parameters.</p><ul><li><a href="../../reference/#UnitTestDesign.full_factorial-Tuple"><code>full_factorial</code></a>: Generates all combinations of parameters, filtering those that aren&#39;t permitted.</li></ul></li></ul><h2 id="Same-interface-for-all-test-generators"><a class="docs-heading-anchor" href="#Same-interface-for-all-test-generators">Same interface for all test generators</a><a id="Same-interface-for-all-test-generators-1"></a><a class="docs-heading-anchor-permalink" href="#Same-interface-for-all-test-generators" title="Permalink"></a></h2><h3 id="Increase-coverage-for-subsets-of-parameters"><a class="docs-heading-anchor" href="#Increase-coverage-for-subsets-of-parameters">Increase coverage for subsets of parameters</a><a id="Increase-coverage-for-subsets-of-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Increase-coverage-for-subsets-of-parameters" title="Permalink"></a></h3><p>Sometimes there are a few parameters that are more important to test fully. In that case, choose a base-level coverage for the whole test set, such as the 2-way coverage of all-pairs. Then pass a separate argument to request that the subset of parameters have greater coverage.</p><p>For instance, this requrests that the first, third, and fourth parameters have 3-way coverage, meaning full-factorial, while the second parameter has only 2-way coverage. This is more meaningful when there are lots of parameters.</p><pre><code class="language-julia">test_set = all_pairs(
    [1, 2, 3], [&quot;low&quot;, &quot;mid&quot; ,&quot;high&quot;], [1.0, 3.7, 4.9], [:greedy, :relax, :optim];
    wayness = Dict(3 =&gt; [[1, 3, 4]])
    )</code></pre><pre class="documenter-example-output">27-element Array{Array{Any,1},1}:
 [1, &quot;low&quot;, 1.0, :greedy]
 [1, &quot;mid&quot;, 1.0, :relax]
 [1, &quot;high&quot;, 1.0, :optim]
 [1, &quot;low&quot;, 3.7, :greedy]
 [1, &quot;mid&quot;, 3.7, :relax]
 [1, &quot;high&quot;, 3.7, :optim]
 [1, &quot;low&quot;, 4.9, :greedy]
 [1, &quot;high&quot;, 4.9, :relax]
 [1, &quot;mid&quot;, 4.9, :optim]
 [2, &quot;low&quot;, 1.0, :greedy]
 ⋮
 [3, &quot;low&quot;, 1.0, :greedy]
 [3, &quot;mid&quot;, 1.0, :relax]
 [3, &quot;high&quot;, 1.0, :optim]
 [3, &quot;low&quot;, 3.7, :greedy]
 [3, &quot;mid&quot;, 3.7, :relax]
 [3, &quot;high&quot;, 3.7, :optim]
 [3, &quot;low&quot;, 4.9, :greedy]
 [3, &quot;mid&quot;, 4.9, :relax]
 [3, &quot;high&quot;, 4.9, :optim]</pre><p>The wayness argument is a dictionary, where the dictionary keys are the higher coverage levels, so &quot;3&quot; means all triples. The dictionary values are an array of arrays of parameter indices which, together, should be covered at the given level. This means that, were you to have 40 parameters, you could request that parameters <code>[3:6]</code> and parameters <code>[25:30]</code> be covered with triples.</p><pre><code class="language-julia">array_of_forty_parameters = fill(1:4, 40)
test_set = all_pairs(
    array_of_forty_parameters...;
    wayness = Dict(3 =&gt; [[3:6], [25:30]])
    )</code></pre><h2 id="Exclude-forbidden-combinations-of-parameters"><a class="docs-heading-anchor" href="#Exclude-forbidden-combinations-of-parameters">Exclude forbidden combinations of parameters</a><a id="Exclude-forbidden-combinations-of-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Exclude-forbidden-combinations-of-parameters" title="Permalink"></a></h2><p>Keep the test engine from making tests that aren&#39;t allowed for your function. Pass it a filter function, one that returns <code>true</code> whenever a parameter combinations is forbidden.</p><pre><code class="language-julia">disallow(n, level, value, kind) = level == &quot;high&quot; &amp;&amp; kind == :optim
test_set = all_pairs(
    [1, 2, 3], [&quot;low&quot;, &quot;mid&quot; ,&quot;high&quot;], [1.0, 3.7, 4.9], [:greedy, :relax, :optim];
    disallow = disallow
    )</code></pre><pre class="documenter-example-output">11-element Array{Array{Any,1},1}:
 [1, &quot;low&quot;, 1.0, :greedy]
 [1, &quot;mid&quot;, 3.7, :relax]
 [1, &quot;high&quot;, 4.9, :greedy]
 [2, &quot;low&quot;, 3.7, :optim]
 [2, &quot;mid&quot;, 1.0, :greedy]
 [2, &quot;high&quot;, 1.0, :relax]
 [3, &quot;low&quot;, 4.9, :relax]
 [3, &quot;mid&quot;, 1.0, :optim]
 [3, &quot;high&quot;, 3.7, :greedy]
 [2, &quot;mid&quot;, 4.9, :optim]
 [1, &quot;low&quot;, 3.7, :optim]</pre><p>There are <em>two problems</em> with excluding values.</p><ol><li><p>The <code>disallow</code> function needs to handle possible <code>nothing</code> arguments. The generator will call this function on partially-constructed argument lists, and it will pass <code>nothing</code> for those arguments that have not yet been chosen.</p></li><li><p>The generator <em>may fail to find a solution</em> if there is a disallow list. Both the IPOG and GND generators can get stuck when there are rules that forbid combinations. It depends on the combinations and some luck. When it does fail, you will see the code try to access a vector at location 0.</p></li></ol><p>There are papers that solve these problems by pairing tuple generation with logic solvers. That sounds great. It isn&#39;t implemented here.</p><h2 id="Seed-test-cases"><a class="docs-heading-anchor" href="#Seed-test-cases">Seed test cases</a><a id="Seed-test-cases-1"></a><a class="docs-heading-anchor-permalink" href="#Seed-test-cases" title="Permalink"></a></h2><p>If there are particular tests that must be run, these already include some of the tuples that should be covered. You can pass the must-run test cases, and they will be included among the test cases.</p><pre><code class="language-julia">must_test = [[1, &quot;mid&quot;, 3.7, :relax], [1, &quot;mid&quot;, 4.9, :relax]]
test_cases = all_pairs(
    [1, 2, 3], [&quot;low&quot;, &quot;mid&quot; ,&quot;high&quot;], [1.0, 3.7, 4.9], [:greedy, :relax, :optim];
    seeds = must_test
    )</code></pre><pre class="documenter-example-output">12-element Array{Array{Any,1},1}:
 [1, &quot;mid&quot;, 3.7, :relax]
 [1, &quot;mid&quot;, 4.9, :relax]
 [1, &quot;low&quot;, 1.0, :greedy]
 [1, &quot;high&quot;, 1.0, :optim]
 [2, &quot;low&quot;, 3.7, :optim]
 [2, &quot;mid&quot;, 1.0, :greedy]
 [2, &quot;high&quot;, 4.9, :greedy]
 [3, &quot;low&quot;, 4.9, :relax]
 [3, &quot;mid&quot;, 1.0, :optim]
 [3, &quot;high&quot;, 3.7, :greedy]
 [2, &quot;high&quot;, 1.0, :relax]
 [3, &quot;low&quot;, 4.9, :optim]</pre><p>The must-run cases are a list of arrays of arguments.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 3 February 2021 03:12">Wednesday 3 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
